@using ESFA.DC.LARS.Web.Controllers;
@model ESFA.DC.LARS.Web.Models.ViewModels.HomeViewModel

@{
    ViewData["Title"] = "Home Page";
}

<div class="govuk-grid-row" id="homeApp">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl">
            Find a learning aim
        </h1>
        <p class="govuk-body-l">Find the latest information on available qualifications, apprenticeship frameworks, and funding for further education providers.</p>
        <p class="govuk-body">Qualifications will show you funding streams for courses and the last date learners can start. Frameworks will show you pathways, dates, and the issuing authority. You can also download datasets used in the funding information system (FIS).</p>

        <div class="app-masthead-v2">
            <form asp-action="Index" asp-controller="Home" class="govuk-form-group" id="searchForm">
                <div class="govuk-grid-row">
                    <input id="TeachingYear" type="hidden" name="TeachingYear" value="@Model.Lookups.AcademicYearLookups.Single(y => y.IsCurrentAcademicYear).AcademicYear" />
                    <div class="govuk-grid-column-two-thirds">
                        <label class="govuk-label">Search by <strong>learning aim</strong> or <strong>reference number</strong></label>
                        <div id="tt-overlay" class="autocomplete-wrapper" aria-label="Search by name or reference number">
                            <div class="autocomplete__wrapper" role="combobox" aria-expanded="false">
                                <div aria-atomic="true" aria-live="polite" role="status" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin-bottom: -1px; margin-right: -1px; overflow: hidden; padding: 0px; position: absolute; white-space: nowrap; width: 1px;">
                                    No search results.<span>,,</span>
                                </div>
                                <input aria-owns="autocomplete-overlay__listbox" autocomplete="off" class="autocomplete__input autocomplete__input--default" id="autocomplete-overlay" name="searchTerm" placeholder="" type="text" role="textbox">
                                <ul class="autocomplete__menu autocomplete__menu--overlay autocomplete__menu--hidden" id="autocomplete-overlay__listbox" role="listbox">
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div id="typeOfLearning" class="govuk-grid-column-one-third">
                        <label class="govuk-label" for="searchType">
                            Type of learning
                        </label>
                        <select class="govuk-select" id="searchType" name="searchType" asp-for="@Model.SearchType" asp-items="Html.GetEnumSelectList<LearningType>()">
                        </select>
                    </div>
                </div>
                <br>
                <button id="search" type="search" class="govuk-button govuk-button--start govuk-!-margin-bottom-0" v-on:click="updateFilters()">
                    Search <svg class="govuk-button__start-icon" xmlns="http://www.w3.org/2000/svg" width="17.5" height="19" viewBox="0 0 33 40" role="presentation" focusable="false">
                        <path fill="currentColor" d="M0 0h13l20 20-20 20H0l20-20z"></path>
                    </svg>
                </button>
            </form>
        </div>
    </div>
    <div class="govuk-grid-column-one-third">&nbsp;</div>
</div>


<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <ul class="govuk-list">
            @foreach (var error in Model.ValidationErrors)
            {
                <li class="govuk-error-message">@error</li>
            }
        </ul>
    </div>
</div>

@section PageScripts
{
    <script src="/assets/dist/js/search.js" asp-append-version="true"></script>
}