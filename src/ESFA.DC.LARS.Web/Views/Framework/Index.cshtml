@model ESFA.DC.LARS.Web.Models.ViewModels.FrameworkViewModel
@* Needs Search Term and academic year *@
<div class="govuk-breadcrumbs">
    <ol class="govuk-breadcrumbs__list">
        <li class="govuk-breadcrumbs__list-item">
            @Html.ActionLink(
                "Search Results",
                "Index",
                "SearchResult",
                new BasicSearchModel { SearchTerm = "Diploma in Engineering Technology" },
                new { @class = "govuk-breadcrumbs__link" })
        </li>
        <li class="govuk-breadcrumbs__list-item">
            @Html.ActionLink(
                @Model.LearningAim.LearningAimTitle,
                "Index",
                "LearningAimDetail",
                new { learnAimRef = Model.LearningAim.LearnAimRef, academicYear = Model.LearningAim.AcademicYears.FirstOrDefault() },
                new { @class = "govuk-breadcrumbs__link" })
        </li>
        <li class="govuk-breadcrumbs__list-item">
            Frameworks
        </li>
    </ol>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
        <h1 class="govuk-heading-xl">
            @Model?.LearningAim?.LearningAimTitle
            <span class="govuk-caption-xl">@Model?.LearningAim?.LearnAimRef</span>
        </h1>

        <h2 class="govuk-heading-m">Frameworks</h2>

        @if (Model?.LearningAim?.Frameworks != null)
        {
            foreach (var framework in Model.LearningAim.Frameworks)
            {
                <ul class="govuk-list">
                    <li>
                        @Html.ActionLink(
                            framework.FrameworkTitle,
                            "Index",
                            "FrameworkDetail",
                            new { frameworkCode = framework.FrameworkCode, programType = framework.ProgramType, pathwayCode = framework.PathwayCode },
                            new { @class = "govuk-link govuk-!-font-weight-bold govuk-link--no-visited-state" })
                    </li>
                    <li>
                        <strong>Code:</strong> @framework.FrameworkCode
                    </li>
                    <li>
                        <strong>Type:</strong> @framework.ProgramType - @framework.ProgramTypeDesc
                    </li>
                    <li>
                        <strong>Pathway:</strong> @framework.PathwayCode - @framework.PathwayName <br>
                        <strong>Effective from:</strong> @framework.EffectiveFrom?.ToString("dd MMMM yyyy") to: @framework.EffectiveTo?.ToString("dd MMMM yyyy")
                    </li>
                    <li>
                        <strong>Component type:</strong> @framework.ComponentType - @framework.ComponentTypeDesc
                    </li>
                    <li>
                        <strong>Issuing authority:</strong> @framework.IssuingAuthority - @framework.IssuingAuthorityDesc
                    </li>
                </ul>
                <hr>
            }
        }
    </div>
</div>
