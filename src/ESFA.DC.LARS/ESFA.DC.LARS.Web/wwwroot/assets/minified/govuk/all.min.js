"use strict";(function(n,t){typeof exports=="object"&&typeof module!="undefined"?t(exports):typeof define=="function"&&define.amd?define("GOVUKFrontend",["exports"],t):t(n.GOVUKFrontend={})})(undefined,function(n){function i(n,t){if(window.NodeList.prototype.forEach)return n.forEach(t);for(var i=0;i<n.length;i++)t.call(window,n[i],i,n)}function w(){var n=(new Date).getTime();return typeof performance!="undefined"&&typeof window.performance.now=="function"&&(n+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t==="x"?i:i&3|8).toString(16)})}function r(n){this.$module=n;this.moduleId=n.getAttribute("id");this.$sections=n.querySelectorAll(".govuk-accordion__section");this.$openAllButton="";this.browserSupportsSessionStorage=a.checkForSessionStorage();this.controlsClass="govuk-accordion__controls";this.openAllClass="govuk-accordion__open-all";this.iconClass="govuk-accordion__icon";this.sectionHeaderClass="govuk-accordion__section-header";this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused";this.sectionHeadingClass="govuk-accordion__section-heading";this.sectionSummaryClass="govuk-accordion__section-summary";this.sectionButtonClass="govuk-accordion__section-button";this.sectionExpandedClass="govuk-accordion__section--expanded"}function o(n){this.$module=n;this.debounceFormSubmitTimer=null}function e(n){this.$module=n}function u(n){this.$module=n;this.$textarea=n.querySelector(".govuk-js-character-count");this.$textarea&&(this.$countMessage=n.querySelector("[id="+this.$textarea.id+"-info]"))}function s(n){this.$module=n;this.$inputs=n.querySelectorAll('input[type="checkbox"]')}function f(n){this.$module=n}function h(n){this.$module=n}function c(n){this.$module=n}function t(n){this.$module=n;this.$tabs=n.querySelectorAll(".govuk-tabs__tab");this.keys={left:37,right:39,up:38,down:40};this.jsHiddenClass="govuk-tabs__panel--hidden"}function b(n){var l,a,v,y,p,w,b,k,d,g;n=typeof n!="undefined"?n:{};l=typeof n.scope!="undefined"?n.scope:document;a=l.querySelectorAll('[data-module="govuk-button"]');i(a,function(n){new o(n).init()});v=l.querySelectorAll('[data-module="govuk-accordion"]');i(v,function(n){new r(n).init()});y=l.querySelectorAll('[data-module="govuk-details"]');i(y,function(n){new e(n).init()});p=l.querySelectorAll('[data-module="govuk-character-count"]');i(p,function(n){new u(n).init()});w=l.querySelectorAll('[data-module="govuk-checkboxes"]');i(w,function(n){new s(n).init()});b=l.querySelector('[data-module="govuk-error-summary"]');new f(b).init();k=l.querySelector('[data-module="govuk-header"]');new h(k).init();d=l.querySelectorAll('[data-module="govuk-radios"]');i(d,function(n){new c(n).init()});g=l.querySelectorAll('[data-module="govuk-tabs"]');i(g,function(n){new t(n).init()})}var a,v,y,p,l;(function(){var n="defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(n){return!1}}();n||function(n){var t=Object.prototype.hasOwnProperty("__defineGetter__"),i="Getters & setters cannot be defined on this javascript engine",r="A property cannot both have accessors and be writable or have a value";Object.defineProperty=function(u,f,e){if(n&&(u===window||u===document||u===Element.prototype||u instanceof Element))return n(u,f,e);if(u===null||!(u instanceof Object||typeof u=="object"))throw new TypeError("Object.defineProperty called on non-object");if(!(e instanceof Object))throw new TypeError("Property description must be an object");var o=String(f),s="value"in e||"writable"in e,h="get"in e&&typeof e.get,c="set"in e&&typeof e.set;if(h){if(h!=="function")throw new TypeError("Getter must be a function");if(!t)throw new TypeError(i);if(s)throw new TypeError(r);Object.__defineGetter__.call(u,o,e.get)}else u[o]=e.value;if(c){if(c!=="function")throw new TypeError("Setter must be a function");if(!t)throw new TypeError(i);if(s)throw new TypeError(r);Object.__defineSetter__.call(u,o,e.set)}return"value"in e&&(u[o]=e.value),u}}(Object.defineProperty)}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var n="bind"in Function.prototype;n||Object.defineProperty(Function.prototype,"bind",{value:function(n){var a=Array,s=Object,v=s.prototype,u=a.prototype,f=function(){},y=v.toString,p=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",h,w=Function.prototype.toString,b=function(n){try{return w.call(n),!0}catch(t){return!1}},k="[object Function]",d="[object GeneratorFunction]",r;h=function(n){if(typeof n!="function")return!1;if(p)return b(n);var t=y.call(n);return t===k||t===d};var e=u.slice,c=u.concat,g=u.push,nt=Math.max,t=this;if(!h(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);var o=e.call(arguments,1),i,tt=function(){if(this instanceof i){var r=t.apply(this,c.call(o,e.call(arguments)));return s(r)===r?r:this}return t.apply(n,c.call(o,e.call(arguments)))},it=nt(0,t.length-o.length),l=[];for(r=0;r<it;r++)g.call(l,"$"+r);return i=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this, arguments); }")(tt),t.prototype&&(f.prototype=t.prototype,i.prototype=new f,f.prototype=null),i}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(n){var t="DOMTokenList"in this&&function(n){return"classList"in n?!n.classList.toggle("x",!1)&&!n.className:!0}(document.createElement("x"));t||function(t){var i="DOMTokenList"in t&&t.DOMTokenList;i&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(t.DOMTokenList=function(){var i=!0,t=function(n,t,r,u){Object.defineProperty?Object.defineProperty(n,t,{configurable:!1===i?!0:!!u,get:r}):n.__defineGetter__(t,r)};try{t({},"support")}catch(r){i=!1}return function(i,r){var f=this,u=[],o={},s=0,h=0,l=function(n){t(f,n,function(){return e(),u[n]},!1)},c=function(){if(s>=h)for(;h<s;++h)l(h)},e=function(){var t,n,f=arguments,e=/\s+/;if(f.length)for(n=0;n<f.length;++n)if(e.test(f[n])){t=new SyntaxError('String "'+f[n]+'" contains an invalid character');t.code=5;t.name="InvalidCharacterError";throw t;}for(u=typeof i[r]=="object"?(""+i[r].baseVal).replace(/^\s+|\s+$/g,"").split(e):(""+i[r]).replace(/^\s+|\s+$/g,"").split(e),""===u[0]&&(u=[]),o={},n=0;n<u.length;++n)o[u[n]]=!0;s=u.length;c()};return e(),t(f,"length",function(){return e(),s}),f.toLocaleString=f.toString=function(){return e(),u.join(" ")},f.item=function(n){return e(),u[n]},f.contains=function(n){return e(),!!o[n]},f.add=function(){e.apply(f,t=arguments);for(var t,n,h=0,l=t.length;h<l;++h)n=t[h],o[n]||(u.push(n),o[n]=!0);s!==u.length&&(s=u.length>>>0,typeof i[r]=="object"?i[r].baseVal=u.join(" "):i[r]=u.join(" "),c())},f.remove=function(){e.apply(f,t=arguments);for(var t,l={},n=0,h=[];n<t.length;++n)l[t[n]]=!0,delete o[t[n]];for(n=0;n<u.length;++n)l[u[n]]||h.push(u[n]);u=h;s=h.length>>>0;typeof i[r]=="object"?i[r].baseVal=u.join(" "):i[r]=u.join(" ");c()},f.toggle=function(t,i){return(e.apply(f,[t]),n!==i)?i?(f.add(t),!0):(f.remove(t),!1):o[t]?(f.remove(t),!1):(f.add(t),!0)},f}}()),function(){var t=document.createElement("span");"classList"in t&&(t.classList.toggle("x",!1),t.classList.contains("x"))&&(t.classList.constructor.prototype.toggle=function(t){var i=arguments[1],r;return i===n?(r=!this.contains(t),this[r?"add":"remove"](t),r):(i=!!i,this[i?"add":"remove"](t),i)})}(),function(){var n=document.createElement("span"),t;"classList"in n&&((n.classList.add("a","b"),n.classList.contains("b"))||(t=n.classList.constructor.prototype.add,n.classList.constructor.prototype.add=function(){for(var i=arguments,r=arguments.length,n=0;n<r;n++)t.call(this,i[n])}))}(),function(){var n=document.createElement("span"),t;"classList"in n&&(n.classList.add("a"),n.classList.add("b"),n.classList.remove("a","b"),n.classList.contains("b"))&&(t=n.classList.constructor.prototype.remove,n.classList.constructor.prototype.remove=function(){for(var i=arguments,r=arguments.length,n=0;n<r;n++)t.call(this,i[n])})}()}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var n="Document"in this;n||typeof WorkerGlobalScope=="undefined"&&typeof importScripts!="function"&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var n="Element"in this&&"HTMLElement"in this;n||function(){function u(){return(c--||clearTimeout(i),document.body&&!document.body.prototype&&/(complete|interactive)/.test(document.readyState))?(r(document,!0),i&&document.body.prototype&&clearTimeout(i),!!document.body.prototype):!1}if(window.Element&&!window.HTMLElement){window.HTMLElement=window.Element;return}window.Element=window.HTMLElement=new Function("return function Element() {}")();var f=document.appendChild(document.createElement("body")),o=f.appendChild(document.createElement("iframe")),e=o.contentWindow.document,n=Element.prototype=e.appendChild(e.createElement("*")),t={},r=function r(n,i){var o=n.childNodes||[],s=-1,u,f,e;if(n.nodeType===1&&n.constructor!==Element){n.constructor=Element;for(u in t)f=t[u],n[u]=f}while(e=i&&o[++s])r(e,i);return n},s=document.getElementsByTagName("*"),h=document.createElement,i,c=100;n.attachEvent("onpropertychange",function(i){for(var r=i.propertyName,e=!t.hasOwnProperty(r),f=n[r],o=t[r],h=-1,u;u=s[++h];)u.nodeType===1&&(e||u[r]===o)&&(u[r]=f);t[r]=f});n.constructor=Element;n.hasAttribute||(n.hasAttribute=function(n){return this.getAttribute(n)!==null});u()||(document.onreadystatechange=u,i=setInterval(u,25));document.createElement=function(n){var t=h(String(n).toLowerCase());return r(t)};document.removeChild(f)}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var n="document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&function(){var n=document.createElement("span");return n.classList.add("a","b"),n.classList.contains("b")}();n||function(n){var i=!0,r=function(n,t,r,u){Object.defineProperty?Object.defineProperty(n,t,{configurable:!1===i?!0:!!u,get:r}):n.__defineGetter__(t,r)},t;try{r({},"support")}catch(u){i=!1}t=function t(n,u,f){r(n.prototype,u,function(){var e,n=this,h="__defineGetter__DEFINE_PROPERTY"+u,o;if(n[h])return e;if(n[h]=!0,!1===i){var s,l=t.mirror||document.createElement("div"),c=l.childNodes,a=c.length;for(o=0;o<a;++o)if(c[o]._R===n){s=c[o];break}s||(s=l.appendChild(document.createElement("div")));e=DOMTokenList.call(s,n,f)}else e=new DOMTokenList(n,f);return r(n,u,function(){return e}),delete n[h],e},!0)};t(n.Element,"classList","className");t(n.HTMLElement,"classList","className");t(n.HTMLLinkElement,"relList","rel");t(n.HTMLAnchorElement,"relList","rel");t(n.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});r.prototype.init=function(){if(this.$module){this.initControls();this.initSectionHeaders();var n=this.checkIfAllSectionsOpen();this.updateOpenAllButton(n)}};r.prototype.initControls=function(){this.$openAllButton=document.createElement("button");this.$openAllButton.setAttribute("type","button");this.$openAllButton.innerHTML='Open all <span class="govuk-visually-hidden">sections<\/span>';this.$openAllButton.setAttribute("class",this.openAllClass);this.$openAllButton.setAttribute("aria-expanded","false");this.$openAllButton.setAttribute("type","button");var n=document.createElement("div");n.setAttribute("class",this.controlsClass);n.appendChild(this.$openAllButton);this.$module.insertBefore(n,this.$module.firstChild);this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))};r.prototype.initSectionHeaders=function(){i(this.$sections,function(n,t){var i=n.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(i,t);this.setExpanded(this.isExpanded(n),n);i.addEventListener("click",this.onSectionToggle.bind(this,n));this.setInitialState(n)}.bind(this))};r.prototype.initHeaderAttributes=function(n,t){var e=this,r=n.querySelector("."+this.sectionButtonClass),o=n.querySelector("."+this.sectionHeadingClass),h=n.querySelector("."+this.sectionSummaryClass),i=document.createElement("button"),u,s,f;for(i.setAttribute("type","button"),i.setAttribute("id",this.moduleId+"-heading-"+(t+1)),i.setAttribute("aria-controls",this.moduleId+"-content-"+(t+1)),u=0;u<r.attributes.length;u++)s=r.attributes.item(u),i.setAttribute(s.nodeName,s.nodeValue);i.addEventListener("focusin",function(){n.classList.contains(e.sectionHeaderFocusedClass)||(n.className+=" "+e.sectionHeaderFocusedClass)});i.addEventListener("blur",function(){n.classList.remove(e.sectionHeaderFocusedClass)});typeof h!="undefined"&&h!==null&&i.setAttribute("aria-describedby",this.moduleId+"-summary-"+(t+1));i.innerHTML=r.innerHTML;o.removeChild(r);o.appendChild(i);f=document.createElement("span");f.className=this.iconClass;f.setAttribute("aria-hidden","true");o.appendChild(f)};r.prototype.onSectionToggle=function(n){var t=this.isExpanded(n);this.setExpanded(!t,n);this.storeState(n)};r.prototype.onOpenOrCloseAllToggle=function(){var n=this,r=this.$sections,t=!this.checkIfAllSectionsOpen();i(r,function(i){n.setExpanded(t,i);n.storeState(i)});n.updateOpenAllButton(t)};r.prototype.setExpanded=function(n,t){var r=t.querySelector("."+this.sectionButtonClass),i;r.setAttribute("aria-expanded",n);n?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);i=this.checkIfAllSectionsOpen();this.updateOpenAllButton(i)};r.prototype.isExpanded=function(n){return n.classList.contains(this.sectionExpandedClass)};r.prototype.checkIfAllSectionsOpen=function(){var n=this.$sections.length,t=this.$module.querySelectorAll("."+this.sectionExpandedClass).length;return n===t};r.prototype.updateOpenAllButton=function(n){var t=n?"Close all":"Open all";t+='<span class="govuk-visually-hidden"> sections<\/span>';this.$openAllButton.setAttribute("aria-expanded",n);this.$openAllButton.innerHTML=t};a={checkForSessionStorage:function(){var n="this is the test string",t;try{return window.sessionStorage.setItem(n,n),t=window.sessionStorage.getItem(n)===n.toString(),window.sessionStorage.removeItem(n),t}catch(i){(typeof console=="undefined"||typeof console.log=="undefined")&&console.log("Notice: sessionStorage not available.")}}};r.prototype.storeState=function(n){var t,i,r;this.browserSupportsSessionStorage&&(t=n.querySelector("."+this.sectionButtonClass),t&&(i=t.getAttribute("aria-controls"),r=t.getAttribute("aria-expanded"),typeof i=="undefined"&&(typeof console=="undefined"||typeof console.log=="undefined")&&console.error(new Error("No aria controls present in accordion section heading.")),typeof r=="undefined"&&(typeof console=="undefined"||typeof console.log=="undefined")&&console.error(new Error("No aria expanded present in accordion section heading.")),i&&r&&window.sessionStorage.setItem(i,r)))};r.prototype.setInitialState=function(n){var t,i,r;this.browserSupportsSessionStorage&&(t=n.querySelector("."+this.sectionButtonClass),t&&(i=t.getAttribute("aria-controls"),r=i?window.sessionStorage.getItem(i):null,r!==null&&this.setExpanded(r==="true",n)))},function(){var n="Window"in this;n||typeof WorkerGlobalScope=="undefined"&&typeof importScripts!="function"&&function(n){n.constructor?n.Window=n.constructor:(n.Window=n.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(n){var t=function(n){if(!("Event"in n))return!1;if(typeof n.Event=="function")return!0;try{return new Event("click"),!0}catch(t){return!1}}(this);t||function(){function i(n,t){for(var i=-1,r=n.length;++i<r;)if(i in n&&n[i]===t)return i;return-1}var r={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1},t;typeof document!="undefined"&&typeof window!="undefined"&&(t=window.Event&&window.Event.prototype||null,window.Event=Window.prototype.Event=function(t,i){var r,u,f;if(!t)throw new Error("Not enough arguments");return"createEvent"in document?(r=document.createEvent("Event"),u=i&&i.bubbles!==n?i.bubbles:!1,f=i&&i.cancelable!==n?i.cancelable:!1,r.initEvent(t,u,f),r):(r=document.createEventObject(),r.type=t,r.bubbles=i&&i.bubbles!==n?i.bubbles:!1,r.cancelable=i&&i.cancelable!==n?i.cancelable:!1,r)},t&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:t}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var n=this,t=arguments[0],u=arguments[1];if(n===window&&t in r)throw new Error("In IE8 the event: "+t+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");n._events||(n._events={});n._events[t]||(n._events[t]=function(t){var e=n._events[t.type].list,u=e.slice(),f=-1,o=u.length,r;for(t.preventDefault=function(){t.cancelable!==!1&&(t.returnValue=!1)},t.stopPropagation=function(){t.cancelBubble=!0},t.stopImmediatePropagation=function(){t.cancelBubble=!0;t.cancelImmediate=!0},t.currentTarget=n,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||n,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++f<o&&!t.cancelImmediate;)f in u&&(r=u[f],i(e,r)!==-1&&typeof r=="function"&&r.call(n,t))},n._events[t].list=[],n.attachEvent&&n.attachEvent("on"+t,n._events[t]));n._events[t].list.push(u)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var n=this,t=arguments[0],u=arguments[1],r;n._events&&n._events[t]&&n._events[t].list&&(r=i(n._events[t].list,u),r!==-1&&(n._events[t].list.splice(r,1),n._events[t].list.length||(n.detachEvent&&n.detachEvent("on"+t,n._events[t]),delete n._events[t])))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(n){var t,i,r;if(!arguments.length)throw new Error("Not enough arguments");if(!n||typeof n.type!="string")throw new Error("DOM Events Exception 0");t=this;i=n.type;try{n.bubbles||(n.cancelBubble=!0,r=function r(n){n.cancelBubble=!0;(t||window).detachEvent("on"+i,r)},this.attachEvent("on"+i,r));this.fireEvent("on"+i,n)}catch(u){n.target=t;do n.currentTarget=t,"_events"in t&&typeof t._events[i]=="function"&&t._events[i].call(t,n),typeof t["on"+i]=="function"&&t["on"+i].call(t,n),t=t.nodeType===9?t.parentWindow:t.parentNode;while(t&&!n.cancelBubble)}return!0},document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))})))}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});v=32;y=1;o.prototype.handleKeyDown=function(n){var t=n.target;t.getAttribute("role")==="button"&&n.keyCode===v&&(n.preventDefault(),t.click())};o.prototype.debounce=function(n){var t=n.target;if(t.getAttribute("data-prevent-double-click")==="true"){if(this.debounceFormSubmitTimer)return n.preventDefault(),!1;this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),y*1e3)}};o.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown);this.$module.addEventListener("click",this.debounce)};p=13;l=32;e.prototype.init=function(){if(this.$module){var n=typeof this.$module.open=="boolean";n||this.polyfillDetails()}};e.prototype.polyfillDetails=function(){var i=this.$module,n=this.$summary=i.getElementsByTagName("summary").item(0),t=this.$content=i.getElementsByTagName("div").item(0),r;n&&t&&(t.id||(t.id="details-content-"+w()),i.setAttribute("role","group"),n.setAttribute("role","button"),n.setAttribute("aria-controls",t.id),n.tabIndex=0,r=i.getAttribute("open")!==null,r===!0?(n.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false")):(n.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.style.display="none"),this.polyfillHandleInputs(n,this.polyfillSetAttributes.bind(this)))};e.prototype.polyfillSetAttributes=function(){var n=this.$module,i=this.$summary,t=this.$content,r=i.getAttribute("aria-expanded")==="true",f=t.getAttribute("aria-hidden")==="true",u;return i.setAttribute("aria-expanded",r?"false":"true"),t.setAttribute("aria-hidden",f?"false":"true"),t.style.display=r?"none":"",u=n.getAttribute("open")!==null,u?n.removeAttribute("open"):n.setAttribute("open","open"),!0};e.prototype.polyfillHandleInputs=function(n,t){n.addEventListener("keypress",function(n){var i=n.target;(n.keyCode===p||n.keyCode===l)&&i.nodeName.toLowerCase()==="summary"&&(n.preventDefault(),i.click?i.click():t(n))});n.addEventListener("keyup",function(n){var t=n.target;n.keyCode===l&&t.nodeName.toLowerCase()==="summary"&&n.preventDefault()});n.addEventListener("click",t)};u.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"};u.prototype.init=function(){var n=this.$module,i=this.$textarea,r=this.$countMessage,t,u,f;i&&r&&(i.insertAdjacentElement("afterend",r),this.options=this.getDataset(n),t=this.defaults.characterCountAttribute,this.options.maxwords&&(t=this.defaults.wordCountAttribute),this.maxLength=n.getAttribute(t),this.maxLength)&&(n.removeAttribute("maxlength"),u=this.bindChangeEvents.bind(this),u(),f=this.updateCountMessage.bind(this),f())};u.prototype.getDataset=function(n){var f={},i=n.attributes,t,r,u;if(i)for(t=0;t<i.length;t++)r=i[t],u=r.name.match(/^data-(.+)/),u&&(f[u[1]]=r.value);return f};u.prototype.count=function(n){var t,i;return this.options.maxwords?(i=n.match(/\S+/g)||[],t=i.length):t=n.length,t};u.prototype.bindChangeEvents=function(){var n=this.$textarea;n.addEventListener("keyup",this.checkIfValueChanged.bind(this));n.addEventListener("focus",this.handleFocus.bind(this));n.addEventListener("blur",this.handleBlur.bind(this))};u.prototype.checkIfValueChanged=function(){if(this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue){this.$textarea.oldValue=this.$textarea.value;var n=this.updateCountMessage.bind(this);n()}};u.prototype.updateCountMessage=function(){var r=this.$textarea,u=this.options,n=this.$countMessage,f=this.count(r.value),e=this.maxLength,t=e-f,h=u.threshold?u.threshold:0,c=e*h/100;c>f?(n.classList.add("govuk-character-count__message--disabled"),n.setAttribute("aria-hidden",!0)):(n.classList.remove("govuk-character-count__message--disabled"),n.removeAttribute("aria-hidden"));t<0?(r.classList.add("govuk-textarea--error"),n.classList.remove("govuk-hint"),n.classList.add("govuk-error-message")):(r.classList.remove("govuk-textarea--error"),n.classList.remove("govuk-error-message"),n.classList.add("govuk-hint"));var o="remaining",i="character",s=t;u.maxwords&&(i="word");i=i+(t===-1||t===1?"":"s");o=t<0?"too many":"remaining";s=Math.abs(t);n.innerHTML="You have "+s+" "+i+" "+o};u.prototype.handleFocus=function(){this.valueChecker=setInterval(this.checkIfValueChanged.bind(this),1e3)};u.prototype.handleBlur=function(){clearInterval(this.valueChecker)};s.prototype.init=function(){var n=this.$module,t=this.$inputs;i(t,function(t){var i=t.getAttribute("data-aria-controls");i&&n.querySelector("#"+i)&&(t.setAttribute("aria-controls",i),t.removeAttribute("data-aria-controls"),this.setAttributes(t))}.bind(this));n.addEventListener("click",this.handleClick.bind(this))};s.prototype.setAttributes=function(n){var i=n.checked,t;n.setAttribute("aria-expanded",i);t=this.$module.querySelector("#"+n.getAttribute("aria-controls"));t&&t.classList.toggle("govuk-checkboxes__conditional--hidden",!i)};s.prototype.handleClick=function(n){var t=n.target,i=t.getAttribute("type")==="checkbox",r=t.getAttribute("aria-controls");i&&r&&this.setAttributes(t)},function(){var n="document"in this&&"matches"in document.documentElement;n||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(n){for(var i=this,r=(i.document||i.ownerDocument).querySelectorAll(n),t=0;r[t]&&r[t]!==i;)++t;return!!r[t]})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var n="document"in this&&"closest"in document.documentElement;n||(Element.prototype.closest=function(n){for(var t=this;t;){if(t.matches(n))return t;t="SVGElement"in window&&t instanceof SVGElement?t.parentNode:t.parentElement}return null})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});f.prototype.init=function(){var n=this.$module;n&&(n.focus(),n.addEventListener("click",this.handleClick.bind(this)))};f.prototype.handleClick=function(n){var t=n.target;this.focusTarget(t)&&n.preventDefault()};f.prototype.focusTarget=function(n){var r,t,i;return n.tagName!=="A"||n.href===!1?!1:(r=this.getFragmentFromUrl(n.href),t=document.getElementById(r),!t)?!1:(i=this.getAssociatedLegendOrLabel(t),!i)?!1:(i.scrollIntoView(),t.focus({preventScroll:!0}),!0)};f.prototype.getFragmentFromUrl=function(n){return n.indexOf("#")===-1?!1:n.split("#").pop()};f.prototype.getAssociatedLegendOrLabel=function(n){var u=n.closest("fieldset"),i,r,f,t,e;return u&&(i=u.getElementsByTagName("legend"),i.length&&((r=i[0],n.type==="checkbox"||n.type==="radio")||(f=r.getBoundingClientRect().top,t=n.getBoundingClientRect(),t.height&&window.innerHeight&&(e=t.top+t.height,e-f<window.innerHeight/2))))?r:document.querySelector("label[for='"+n.getAttribute("id")+"']")||n.closest("label")};h.prototype.init=function(){var t=this.$module,n;t&&(n=t.querySelector(".govuk-js-header-toggle"),n)&&n.addEventListener("click",this.handleClick.bind(this))};h.prototype.toggleClass=function(n,t){n.className.indexOf(t)>0?n.className=n.className.replace(" "+t,""):n.className+=" "+t};h.prototype.handleClick=function(n){var r=this.$module,t=n.target||n.srcElement,i=r.querySelector("#"+t.getAttribute("aria-controls"));t&&i&&(this.toggleClass(i,"govuk-header__navigation--open"),this.toggleClass(t,"govuk-header__menu-button--open"),t.setAttribute("aria-expanded",t.getAttribute("aria-expanded")!=="true"),i.setAttribute("aria-hidden",i.getAttribute("aria-hidden")==="false"))};c.prototype.init=function(){var n=this.$module,t=n.querySelectorAll('input[type="radio"]');i(t,function(t){var i=t.getAttribute("data-aria-controls");i&&n.querySelector("#"+i)&&(t.setAttribute("aria-controls",i),t.removeAttribute("data-aria-controls"),this.setAttributes(t))}.bind(this));n.addEventListener("click",this.handleClick.bind(this))};c.prototype.setAttributes=function(n){var t=document.querySelector("#"+n.getAttribute("aria-controls")),i;t&&t.classList.contains("govuk-radios__conditional")&&(i=n.checked,n.setAttribute("aria-expanded",i),t.classList.toggle("govuk-radios__conditional--hidden",!i))};c.prototype.handleClick=function(n){var t=n.target,r;t.type==="radio"&&(r=document.querySelectorAll('input[type="radio"][aria-controls]'),i(r,function(n){var i=n.form===t.form,r=n.name===t.name;r&&i&&this.setAttributes(n)}.bind(this)))},function(){var n="Element"in this&&"nextElementSibling"in document.documentElement;n||function(){Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var n=this.nextSibling;n&&n.nodeType!==1;)n=n.nextSibling;return n.nodeType===1?n:null}})}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(){var n="Element"in this&&"previousElementSibling"in document.documentElement;n||function(){Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var n=this.previousSibling;n&&n.nodeType!==1;)n=n.previousSibling;return n.nodeType===1?n:null}})}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});t.prototype.init=function(){typeof matchMedia=="function"?this.setupResponsiveChecks():this.setup()};t.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)");this.mql.addListener(this.checkMode.bind(this));this.checkMode()};t.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()};t.prototype.setup=function(){var n=this.$module,t=this.$tabs,r=n.querySelector(".govuk-tabs__list"),u=n.querySelectorAll(".govuk-tabs__list-item"),f;t&&r&&u&&(r.setAttribute("role","tablist"),i(u,function(n){n.setAttribute("role","presentation")}),i(t,function(n){this.setAttributes(n);n.boundTabClick=this.onTabClick.bind(this);n.boundTabKeydown=this.onTabKeydown.bind(this);n.addEventListener("click",n.boundTabClick,!0);n.addEventListener("keydown",n.boundTabKeydown,!0);this.hideTab(n)}.bind(this)),f=this.getTab(window.location.hash)||this.$tabs[0],this.showTab(f),n.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",n.boundOnHashChange,!0))};t.prototype.teardown=function(){var n=this.$module,t=this.$tabs,r=n.querySelector(".govuk-tabs__list"),u=n.querySelectorAll(".govuk-tabs__list-item");t&&r&&u&&(r.removeAttribute("role"),i(u,function(n){n.removeAttribute("role","presentation")}),i(t,function(n){n.removeEventListener("click",n.boundTabClick,!0);n.removeEventListener("keydown",n.boundTabKeydown,!0);this.unsetAttributes(n)}.bind(this)),window.removeEventListener("hashchange",n.boundOnHashChange,!0))};t.prototype.onHashChange=function(){var i=window.location.hash,n=this.getTab(i),t;if(n){if(this.changingHash){this.changingHash=!1;return}t=this.getCurrentTab();this.hideTab(t);this.showTab(n);n.focus()}};t.prototype.hideTab=function(n){this.unhighlightTab(n);this.hidePanel(n)};t.prototype.showTab=function(n){this.highlightTab(n);this.showPanel(n)};t.prototype.getTab=function(n){return this.$module.querySelector('.govuk-tabs__tab[href="'+n+'"]')};t.prototype.setAttributes=function(n){var i=this.getHref(n).slice(1),t;n.setAttribute("id","tab_"+i);n.setAttribute("role","tab");n.setAttribute("aria-controls",i);n.setAttribute("aria-selected","false");n.setAttribute("tabindex","-1");t=this.getPanel(n);t.setAttribute("role","tabpanel");t.setAttribute("aria-labelledby",n.id);t.classList.add(this.jsHiddenClass)};t.prototype.unsetAttributes=function(n){n.removeAttribute("id");n.removeAttribute("role");n.removeAttribute("aria-controls");n.removeAttribute("aria-selected");n.removeAttribute("tabindex");var t=this.getPanel(n);t.removeAttribute("role");t.removeAttribute("aria-labelledby");t.classList.remove(this.jsHiddenClass)};t.prototype.onTabClick=function(n){if(!n.target.classList.contains("govuk-tabs__tab"))return!1;n.preventDefault();var t=n.target,i=this.getCurrentTab();this.hideTab(i);this.showTab(t);this.createHistoryEntry(t)};t.prototype.createHistoryEntry=function(n){var t=this.getPanel(n),i=t.id;t.id="";this.changingHash=!0;window.location.hash=this.getHref(n).slice(1);t.id=i};t.prototype.onTabKeydown=function(n){switch(n.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab();n.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab();n.preventDefault()}};t.prototype.activateNextTab=function(){var t=this.getCurrentTab(),i=t.parentNode.nextElementSibling,n;i&&(n=i.querySelector(".govuk-tabs__tab"));n&&(this.hideTab(t),this.showTab(n),n.focus(),this.createHistoryEntry(n))};t.prototype.activatePreviousTab=function(){var t=this.getCurrentTab(),i=t.parentNode.previousElementSibling,n;i&&(n=i.querySelector(".govuk-tabs__tab"));n&&(this.hideTab(t),this.showTab(n),n.focus(),this.createHistoryEntry(n))};t.prototype.getPanel=function(n){return this.$module.querySelector(this.getHref(n))};t.prototype.showPanel=function(n){var t=this.getPanel(n);t.classList.remove(this.jsHiddenClass)};t.prototype.hidePanel=function(n){var t=this.getPanel(n);t.classList.add(this.jsHiddenClass)};t.prototype.unhighlightTab=function(n){n.setAttribute("aria-selected","false");n.parentNode.classList.remove("govuk-tabs__list-item--selected");n.setAttribute("tabindex","-1")};t.prototype.highlightTab=function(n){n.setAttribute("aria-selected","true");n.parentNode.classList.add("govuk-tabs__list-item--selected");n.setAttribute("tabindex","0")};t.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")};t.prototype.getHref=function(n){var t=n.getAttribute("href");return t.slice(t.indexOf("#"),t.length)};n.initAll=b;n.Accordion=r;n.Button=o;n.Details=e;n.CharacterCount=u;n.Checkboxes=s;n.ErrorSummary=f;n.Header=h;n.Radios=c;n.Tabs=t});